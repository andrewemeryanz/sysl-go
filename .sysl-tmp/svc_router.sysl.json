{
 "apps": {
  "CodeGenTransform": {
   "name": {
    "part": [
     "CodeGenTransform"
    ]
   },
   "views": {
    "GoName": {
     "param": [
      {
       "name": "word",
       "type": {
        "primitive": "STRING",
        "constraint": [
        ]
       }
      }
     ],
     "retType": {
      "primitive": "STRING",
      "constraint": [
      ]
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "word"
       },
       "scopevar": ".",
       "stmt": [
        {
         "let": {
          "name": "splitted",
          "expr": {
           "ifelse": {
            "cond": {
             "call": {
              "func": "MatchString",
              "arg": [
               {
                "literal": {
                 "s": "^[\\p{L}_][\\p{L}\\p{N}_]*$"
                }
               },
               {
                "name": "word"
               }
              ]
             }
            },
            "ifTrue": {
             "list": {
              "expr": [
               {
                "name": "word"
               }
              ]
             }
            },
            "ifFalse": {
             "call": {
              "func": "FindAllString",
              "arg": [
               {
                "literal": {
                 "s": "[\\p{L}_][\\p{L}\\p{N}_]*"
                }
               },
               {
                "name": "word"
               },
               {
                "unexpr": {
                 "op": "NEG",
                 "arg": {
                  "literal": {
                   "i": "1"
                  }
                 }
                }
               }
              ]
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "initialisms",
          "expr": {
           "list": {
            "expr": [
             {
              "literal": {
               "s": "ACL"
              }
             },
             {
              "literal": {
               "s": "API"
              }
             },
             {
              "literal": {
               "s": "ASCII"
              }
             },
             {
              "literal": {
               "s": "CPU"
              }
             },
             {
              "literal": {
               "s": "CSS"
              }
             },
             {
              "literal": {
               "s": "DNS"
              }
             },
             {
              "literal": {
               "s": "EOF"
              }
             },
             {
              "literal": {
               "s": "GUID"
              }
             },
             {
              "literal": {
               "s": "HTML"
              }
             },
             {
              "literal": {
               "s": "HTTP"
              }
             },
             {
              "literal": {
               "s": "HTTPS"
              }
             },
             {
              "literal": {
               "s": "ID"
              }
             },
             {
              "literal": {
               "s": "IP"
              }
             },
             {
              "literal": {
               "s": "JSON"
              }
             },
             {
              "literal": {
               "s": "LHS"
              }
             },
             {
              "literal": {
               "s": "QPS"
              }
             },
             {
              "literal": {
               "s": "RAM"
              }
             },
             {
              "literal": {
               "s": "RHS"
              }
             },
             {
              "literal": {
               "s": "RPC"
              }
             },
             {
              "literal": {
               "s": "SLA"
              }
             },
             {
              "literal": {
               "s": "SMTP"
              }
             },
             {
              "literal": {
               "s": "SQL"
              }
             },
             {
              "literal": {
               "s": "SSH"
              }
             },
             {
              "literal": {
               "s": "TCP"
              }
             },
             {
              "literal": {
               "s": "TLS"
              }
             },
             {
              "literal": {
               "s": "TTL"
              }
             },
             {
              "literal": {
               "s": "UDP"
              }
             },
             {
              "literal": {
               "s": "UI"
              }
             },
             {
              "literal": {
               "s": "UID"
              }
             },
             {
              "literal": {
               "s": "UUID"
              }
             },
             {
              "literal": {
               "s": "URI"
              }
             },
             {
              "literal": {
               "s": "URL"
              }
             },
             {
              "literal": {
               "s": "UTF8"
              }
             },
             {
              "literal": {
               "s": "VM"
              }
             },
             {
              "literal": {
               "s": "XML"
              }
             },
             {
              "literal": {
               "s": "XMPP"
              }
             },
             {
              "literal": {
               "s": "XSRF"
              }
             },
             {
              "literal": {
               "s": "XSS"
              }
             }
            ]
           }
          }
         }
        },
        {
         "let": {
          "name": "wordUpper",
          "expr": {
           "transform": {
            "arg": {
             "name": "splitted"
            },
            "scopevar": "w",
            "stmt": [
             {
              "let": {
               "name": "upper",
               "expr": {
                "call": {
                 "func": "ToTitle",
                 "arg": [
                  {
                   "call": {
                    "func": "TrimPrefix",
                    "arg": [
                     {
                      "name": "w"
                     },
                     {
                      "literal": {
                       "s": "_"
                      }
                     }
                    ]
                   }
                  }
                 ]
                }
               }
              }
             },
             {
              "assign": {
               "name": "out",
               "expr": {
                "ifelse": {
                 "cond": {
                  "binexpr": {
                   "op": "IN",
                   "lhs": {
                    "name": "upper"
                   },
                   "rhs": {
                    "name": "initialisms"
                   }
                  }
                 },
                 "ifTrue": {
                  "name": "upper"
                 },
                 "ifFalse": {
                  "call": {
                   "func": "Title",
                   "arg": [
                    {
                     "name": "w"
                    }
                   ]
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "primitive": "STRING",
             "constraint": [
             ]
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "out",
          "expr": {
           "call": {
            "func": "Join",
            "arg": [
             {
              "binexpr": {
               "op": "FLATTEN",
               "lhs": {
                "name": "wordUpper"
               },
               "rhs": {
                "getAttr": {
                 "arg": {
                  "name": "."
                 },
                 "attr": "out"
                }
               },
               "scopevar": "."
              }
             },
             {
              "literal": {
               "s": ""
              }
             }
            ]
           }
          }
         }
        }
       ]
      }
     },
     "sourceContext": {
      "file": "/codegen/transforms/svc_router.sysl",
      "start": {
       "line": 2,
       "col": 2
      }
     }
    },
    "RouteEndpoints": {
     "param": [
      {
       "name": "eps",
       "type": {
        "set": {
         "typeRef": {
          "ref": {
           "appname": {
            "part": [
             "sysl"
            ]
           },
           "path": [
            "Endpoints"
           ]
          }
         }
        }
       }
      }
     ],
     "retType": {
      "sequence": {
       "typeRef": {
        "context": {
         "appname": {
          "part": [
           "CodeGenTransform"
          ]
         },
         "path": [
          "RouteEndpoints"
         ]
        },
        "ref": {
         "path": [
          "StatementList"
         ]
        }
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "binexpr": {
         "op": "WHERE",
         "lhs": {
          "name": "eps"
         },
         "rhs": {
          "binexpr": {
           "op": "EQ",
           "lhs": {
            "getAttr": {
             "arg": {
              "getAttr": {
               "arg": {
                "name": "."
               },
               "attr": "value"
              }
             },
             "attr": "is_rest"
            }
           },
           "rhs": {
            "literal": {
             "b": true
            },
            "type": {
             "primitive": "BOOL"
            }
           }
          }
         },
         "scopevar": "."
        }
       },
       "scopevar": "ep",
       "stmt": [
        {
         "let": {
          "name": "terms",
          "expr": {
           "transform": {
            "arg": {
             "getAttr": {
              "arg": {
               "getAttr": {
                "arg": {
                 "name": "ep"
                },
                "attr": "value"
               }
              },
              "attr": "pathvars"
             }
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "out",
               "expr": {
                "binexpr": {
                 "op": "ADD",
                 "lhs": {
                  "binexpr": {
                   "op": "ADD",
                   "lhs": {
                    "literal": {
                     "s": "{"
                    }
                   },
                   "rhs": {
                    "getAttr": {
                     "arg": {
                      "name": "."
                     },
                     "attr": "name"
                    }
                   }
                  }
                 },
                 "rhs": {
                  "literal": {
                   "s": "}"
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "out"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "pathVars",
          "expr": {
           "binexpr": {
            "op": "FLATTEN",
            "lhs": {
             "name": "terms"
            },
            "rhs": {
             "getAttr": {
              "arg": {
               "name": "."
              },
              "attr": "out"
             }
            },
            "scopevar": "."
           }
          }
         }
        },
        {
         "let": {
          "name": "path",
          "expr": {
           "call": {
            "func": "Split",
            "arg": [
             {
              "getAttr": {
               "arg": {
                "getAttr": {
                 "arg": {
                  "name": "ep"
                 },
                 "attr": "value"
                }
               },
               "attr": "path"
              }
             },
             {
              "literal": {
               "s": "/"
              }
             }
            ]
           }
          }
         }
        },
        {
         "let": {
          "name": "method",
          "expr": {
           "call": {
            "func": "Title",
            "arg": [
             {
              "call": {
               "func": "ToLower",
               "arg": [
                {
                 "getAttr": {
                  "arg": {
                   "getAttr": {
                    "arg": {
                     "name": "ep"
                    },
                    "attr": "value"
                   }
                  },
                  "attr": "method"
                 }
                }
               ]
              }
             }
            ]
           }
          }
         }
        },
        {
         "let": {
          "name": "methodPostfix",
          "expr": {
           "transform": {
            "arg": {
             "name": "path"
            },
            "scopevar": "p",
            "stmt": [
             {
              "let": {
               "name": "postfix",
               "expr": {
                "ifelse": {
                 "cond": {
                  "binexpr": {
                   "op": "IN",
                   "lhs": {
                    "name": "p"
                   },
                   "rhs": {
                    "name": "pathVars"
                   }
                  }
                 },
                 "ifTrue": {
                  "literal": {
                   "s": ""
                  }
                 },
                 "ifFalse": {
                  "name": "p"
                 }
                }
               }
              }
             },
             {
              "assign": {
               "name": "out",
               "expr": {
                "call": {
                 "func": "Title",
                 "arg": [
                  {
                   "call": {
                    "func": "ToLower",
                    "arg": [
                     {
                      "name": "postfix"
                     }
                    ]
                   }
                  }
                 ]
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "primitive": "STRING",
             "constraint": [
             ]
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "withArg",
          "expr": {
           "ifelse": {
            "cond": {
             "binexpr": {
              "op": "AND",
              "lhs": {
               "call": {
                "func": "MatchString",
                "arg": [
                 {
                  "literal": {
                   "s": "\\{\\p{L}+\\}$"
                  }
                 },
                 {
                  "getAttr": {
                   "arg": {
                    "getAttr": {
                     "arg": {
                      "name": "ep"
                     },
                     "attr": "value"
                    }
                   },
                   "attr": "path"
                  }
                 }
                ]
               }
              },
              "rhs": {
               "call": {
                "func": "Contains",
                "arg": [
                 {
                  "literal": {
                   "s": "POST"
                  }
                 },
                 {
                  "call": {
                   "func": "ToUpper",
                   "arg": [
                    {
                     "name": "method"
                    }
                   ]
                  }
                 }
                ]
               }
              }
             }
            },
            "ifTrue": {
             "literal": {
              "s": "WithArg"
             }
            },
            "ifFalse": {
             "literal": {
              "s": ""
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "getList",
          "expr": {
           "ifelse": {
            "cond": {
             "binexpr": {
              "op": "AND",
              "lhs": {
               "call": {
                "func": "MatchString",
                "arg": [
                 {
                  "literal": {
                   "s": "[\\p{L}\\p{N}]$"
                  }
                 },
                 {
                  "getAttr": {
                   "arg": {
                    "getAttr": {
                     "arg": {
                      "name": "ep"
                     },
                     "attr": "value"
                    }
                   },
                   "attr": "path"
                  }
                 }
                ]
               }
              },
              "rhs": {
               "call": {
                "func": "Contains",
                "arg": [
                 {
                  "literal": {
                   "s": "GET"
                  }
                 },
                 {
                  "call": {
                   "func": "ToUpper",
                   "arg": [
                    {
                     "name": "method"
                    }
                   ]
                  }
                 }
                ]
               }
              }
             }
            },
            "ifTrue": {
             "literal": {
              "s": "List"
             }
            },
            "ifFalse": {
             "literal": {
              "s": ""
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "handlerCall",
          "expr": {
           "binexpr": {
            "op": "ADD",
            "lhs": {
             "binexpr": {
              "op": "ADD",
              "lhs": {
               "binexpr": {
                "op": "ADD",
                "lhs": {
                 "binexpr": {
                  "op": "ADD",
                  "lhs": {
                   "literal": {
                    "s": "s."
                   }
                  },
                  "rhs": {
                   "literal": {
                    "s": "svcHandler"
                   }
                  }
                 }
                },
                "rhs": {
                 "literal": {
                  "s": "."
                 }
                }
               }
              },
              "rhs": {
               "getAttr": {
                "arg": {
                 "call": {
                  "func": "GoName",
                  "arg": [
                   {
                    "binexpr": {
                     "op": "ADD",
                     "lhs": {
                      "binexpr": {
                       "op": "ADD",
                       "lhs": {
                        "binexpr": {
                         "op": "ADD",
                         "lhs": {
                          "name": "method"
                         },
                         "rhs": {
                          "call": {
                           "func": "Join",
                           "arg": [
                            {
                             "binexpr": {
                              "op": "FLATTEN",
                              "lhs": {
                               "name": "methodPostfix"
                              },
                              "rhs": {
                               "getAttr": {
                                "arg": {
                                 "name": "."
                                },
                                "attr": "out"
                               }
                              },
                              "scopevar": "."
                             }
                            },
                            {
                             "literal": {
                              "s": ""
                             }
                            }
                           ]
                          }
                         }
                        }
                       },
                       "rhs": {
                        "name": "withArg"
                       }
                      }
                     },
                     "rhs": {
                      "name": "getList"
                     }
                    }
                   }
                  ]
                 }
                },
                "attr": "out"
               }
              }
             }
            },
            "rhs": {
             "literal": {
              "s": "Handler"
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "epPath",
          "expr": {
           "binexpr": {
            "op": "ADD",
            "lhs": {
             "binexpr": {
              "op": "ADD",
              "lhs": {
               "literal": {
                "s": "\""
               }
              },
              "rhs": {
               "call": {
                "func": "Join",
                "arg": [
                 {
                  "name": "path"
                 },
                 {
                  "literal": {
                   "s": "/"
                  }
                 }
                ]
               }
              }
             }
            },
            "rhs": {
             "literal": {
              "s": "\""
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "funcName",
          "expr": {
           "binexpr": {
            "op": "ADD",
            "lhs": {
             "literal": {
              "s": "r."
             }
            },
            "rhs": {
             "name": "method"
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "nilCheck",
          "expr": {
           "transform": {
            "arg": {
             "name": "handlerCall"
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "IfElseStmt",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "handlerCall"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Expression",
                    "expr": {
                     "call": {
                      "func": "makeValueExpr",
                      "arg": [
                       {
                        "binexpr": {
                         "op": "ADD",
                         "lhs": {
                          "name": "handlerCall"
                         },
                         "rhs": {
                          "literal": {
                           "s": " != nil"
                          }
                         }
                        }
                       }
                      ]
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Block",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "handlerCall"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "StatementList",
                         "expr": {
                          "transform": {
                           "arg": {
                            "list": {
                             "expr": [
                              {
                               "name": "handlerCall"
                              }
                             ]
                            }
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "Statement",
                              "expr": {
                               "getAttr": {
                                "arg": {
                                 "call": {
                                  "func": "makeFunctionCall",
                                  "arg": [
                                   {
                                    "name": "funcName"
                                   },
                                   {
                                    "call": {
                                     "func": "makeValueExpr",
                                     "arg": [
                                      {
                                       "name": "epPath"
                                      }
                                     ]
                                    }
                                   },
                                   {
                                    "list": {
                                     "expr": [
                                      {
                                       "call": {
                                        "func": "makeValueExpr",
                                        "arg": [
                                         {
                                          "name": "handlerCall"
                                         }
                                        ]
                                       }
                                      }
                                     ]
                                    }
                                   }
                                  ]
                                 }
                                },
                                "attr": "Statement"
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "StatementList"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Block"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "IfElseStmt"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "Statement"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "Statement",
          "expr": {
           "getAttr": {
            "arg": {
             "call": {
              "func": "makeFunctionCall",
              "arg": [
               {
                "name": "funcName"
               },
               {
                "call": {
                 "func": "makeValueExpr",
                 "arg": [
                  {
                   "name": "epPath"
                  }
                 ]
                }
               },
               {
                "list": {
                 "expr": [
                  {
                   "call": {
                    "func": "makeValueExpr",
                    "arg": [
                     {
                      "name": "handlerCall"
                     }
                    ]
                   }
                  }
                 ]
                }
               }
              ]
             }
            },
            "attr": "Statement"
           }
          }
         }
        }
       ]
      }
     },
     "sourceContext": {
      "file": "/codegen/transforms/svc_router.sysl",
      "start": {
       "line": 51,
       "col": 2
      }
     }
    },
    "filename": {
     "param": [
      {
       "name": "app",
       "type": {
        "typeRef": {
         "ref": {
          "appname": {
           "part": [
            "sysl"
           ]
          },
          "path": [
           "App"
          ]
         }
        }
       }
      }
     ],
     "retType": {
      "primitive": "STRING",
      "constraint": [
      ]
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "app"
       },
       "scopevar": ".",
       "stmt": [
        {
         "assign": {
          "name": "filename",
          "expr": {
           "literal": {
            "s": "requestrouter.go"
           }
          }
         }
        }
       ]
      }
     },
     "sourceContext": {
      "file": "/codegen/transforms/svc_router.sysl",
      "start": {
       "line": 16,
       "col": 2
      }
     }
    },
    "goFile": {
     "param": [
      {
       "name": "app",
       "type": {
        "typeRef": {
         "ref": {
          "appname": {
           "part": [
            "sysl"
           ]
          },
          "path": [
           "App"
          ]
         }
        }
       }
      }
     ],
     "retType": {
      "typeRef": {
       "ref": {
        "appname": {
         "part": [
          "goFile"
         ]
        }
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "app"
       },
       "scopevar": ".",
       "stmt": [
        {
         "assign": {
          "name": "PackageClause",
          "expr": {
           "transform": {
            "arg": {
             "name": "app"
            },
            "scopevar": ".",
            "stmt": [
             {
              "let": {
               "name": "pname",
               "expr": {
                "ifelse": {
                 "cond": {
                  "binexpr": {
                   "op": "NE",
                   "lhs": {
                    "getAttr": {
                     "arg": {
                      "getAttr": {
                       "arg": {
                        "name": "."
                       },
                       "attr": "attrs"
                      }
                     },
                     "attr": "package"
                    }
                   },
                   "rhs": {
                    "literal": {
                     "null": {

                     }
                    },
                    "type": {
                     "primitive": "EMPTY"
                    }
                   }
                  }
                 },
                 "ifTrue": {
                  "getAttr": {
                   "arg": {
                    "getAttr": {
                     "arg": {
                      "name": "."
                     },
                     "attr": "attrs"
                    }
                   },
                   "attr": "package"
                  }
                 },
                 "ifFalse": {
                  "getAttr": {
                   "arg": {
                    "name": "app"
                   },
                   "attr": "name"
                  }
                 }
                }
               }
              }
             },
             {
              "assign": {
               "name": "PackageName",
               "expr": {
                "call": {
                 "func": "ToLower",
                 "arg": [
                  {
                   "name": "pname"
                  }
                 ]
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "package"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "ImportDecl",
          "expr": {
           "transform": {
            "arg": {
             "name": "app"
            },
            "scopevar": ".",
            "stmt": [
             {
              "let": {
               "name": "hiImport",
               "expr": {
                "literal": {
                 "s": "github.com/anz-bank/sysl-go/handlerinitialiser"
                }
               }
              }
             },
             {
              "let": {
               "name": "bffCommonImport",
               "expr": {
                "literal": {
                 "s": "github.com/anz-bank/sysl-go/common"
                }
               }
              }
             },
             {
              "let": {
               "name": "coreImport",
               "expr": {
                "literal": {
                 "s": "github.com/anz-bank/sysl-go/core"
                }
               }
              }
             },
             {
              "let": {
               "name": "validatorImport",
               "expr": {
                "literal": {
                 "s": "github.com/anz-bank/sysl-go/validator"
                }
               }
              }
             },
             {
              "let": {
               "name": "spec",
               "expr": {
                "transform": {
                 "arg": {
                  "list": {
                   "expr": [
                    {
                     "literal": {
                      "s": "context"
                     }
                    },
                    {
                     "literal": {
                      "s": "net/http"
                     }
                    },
                    {
                     "literal": {
                      "s": "github.com/go-chi/chi"
                     }
                    },
                    {
                     "name": "hiImport"
                    },
                    {
                     "name": "bffCommonImport"
                    },
                    {
                     "name": "coreImport"
                    },
                    {
                     "name": "validatorImport"
                    }
                   ]
                  }
                 },
                 "scopevar": "importPath",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Import",
                    "expr": {
                     "ifelse": {
                      "cond": {
                       "binexpr": {
                        "op": "EQ",
                        "lhs": {
                         "name": "importPath"
                        },
                        "rhs": {
                         "literal": {
                          "s": ""
                         }
                        }
                       }
                      },
                      "ifTrue": {
                       "literal": {
                        "b": true
                       },
                       "type": {
                        "primitive": "BOOL"
                       }
                      },
                      "ifFalse": {
                       "binexpr": {
                        "op": "ADD",
                        "lhs": {
                         "binexpr": {
                          "op": "ADD",
                          "lhs": {
                           "literal": {
                            "s": "\""
                           }
                          },
                          "rhs": {
                           "name": "importPath"
                          }
                         }
                        },
                        "rhs": {
                         "literal": {
                          "s": "\""
                         }
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "sequence": {
                  "typeRef": {
                   "context": {
                    "appname": {
                     "part": [
                      "CodeGenTransform"
                     ]
                    },
                    "path": [
                     "goFile"
                    ]
                   },
                   "ref": {
                    "path": [
                     "ImportSpec"
                    ]
                   }
                  }
                 }
                }
               }
              }
             },
             {
              "assign": {
               "name": "ImportSpec",
               "expr": {
                "name": "spec"
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "ImportDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "routerVarname",
          "expr": {
           "literal": {
            "s": "router"
           }
          }
         }
        },
        {
         "let": {
          "name": "svcHandlerVarname",
          "expr": {
           "literal": {
            "s": "svcHandler"
           }
          }
         }
        },
        {
         "let": {
          "name": "configVarName",
          "expr": {
           "literal": {
            "s": "cfg"
           }
          }
         }
        },
        {
         "let": {
          "name": "ehVarName",
          "expr": {
           "literal": {
            "s": "errorHandler"
           }
          }
         }
        },
        {
         "let": {
          "name": "basePathAttr",
          "expr": {
           "ifelse": {
            "cond": {
             "binexpr": {
              "op": "IN",
              "lhs": {
               "literal": {
                "s": "basePath"
               }
              },
              "rhs": {
               "getAttr": {
                "arg": {
                 "name": "."
                },
                "attr": "attrs"
               }
              }
             }
            },
            "ifTrue": {
             "getAttr": {
              "arg": {
               "getAttr": {
                "arg": {
                 "name": "."
                },
                "attr": "attrs"
               }
              },
              "attr": "basePath"
             }
            },
            "ifFalse": {
             "literal": {
              "s": ""
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "addMiddleware",
          "expr": {
           "transform": {
            "arg": {
             "name": "app"
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "MethodName",
               "expr": {
                "literal": {
                 "s": "AddMiddleware"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Signature",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "app"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Parameters",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "app"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "ParameterList",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "app"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "ParameterDecl",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "app"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "Identifier",
                                   "expr": {
                                    "literal": {
                                     "s": "ctx"
                                    }
                                   }
                                  }
                                 },
                                 {
                                  "assign": {
                                   "name": "TypeName",
                                   "expr": {
                                    "literal": {
                                     "s": "context.Context"
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterDecl"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            },
                            {
                             "let": {
                              "name": "r",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "app"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ParameterDecl",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "app"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "Identifier",
                                        "expr": {
                                         "literal": {
                                          "s": "r"
                                         }
                                        }
                                       }
                                      },
                                      {
                                       "assign": {
                                        "name": "TypeName",
                                        "expr": {
                                         "literal": {
                                          "s": "chi.Router"
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ParameterDecl"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterList"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            },
                            {
                             "assign": {
                              "name": "ParameterDeclC",
                              "expr": {
                               "list": {
                                "expr": [
                                 {
                                  "name": "r"
                                 }
                                ]
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "ParameterList"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Parameters"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Signature"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "MethodSpec"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "basePath",
          "expr": {
           "transform": {
            "arg": {
             "name": "app"
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "MethodName",
               "expr": {
                "literal": {
                 "s": "BasePath"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Signature",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "app"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Parameters",
                    "expr": {
                     "literal": {
                      "b": true
                     },
                     "type": {
                      "primitive": "BOOL"
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Result",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "app"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "TypeName",
                         "expr": {
                          "literal": {
                           "s": "string"
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Result"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Signature"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "MethodSpec"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "config",
          "expr": {
           "transform": {
            "arg": {
             "name": "app"
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "MethodName",
               "expr": {
                "literal": {
                 "s": "Config"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Signature",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "app"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Parameters",
                    "expr": {
                     "literal": {
                      "b": true
                     },
                     "type": {
                      "primitive": "BOOL"
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Result",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "app"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "TypeName",
                         "expr": {
                          "literal": {
                           "s": "validator.Validator"
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Result"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Signature"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "MethodSpec"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "mapError",
          "expr": {
           "transform": {
            "arg": {
             "name": "app"
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "MethodName",
               "expr": {
                "literal": {
                 "s": "MapError"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Signature",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "app"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Parameters",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "app"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "ParameterList",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "app"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "ParameterDecl",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "app"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "Identifier",
                                   "expr": {
                                    "literal": {
                                     "s": "ctx"
                                    }
                                   }
                                  }
                                 },
                                 {
                                  "assign": {
                                   "name": "TypeName",
                                   "expr": {
                                    "literal": {
                                     "s": "context.Context"
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterDecl"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            },
                            {
                             "let": {
                              "name": "w",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "app"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ParameterDecl",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "app"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "Identifier",
                                        "expr": {
                                         "literal": {
                                          "s": "w"
                                         }
                                        }
                                       }
                                      },
                                      {
                                       "assign": {
                                        "name": "TypeName",
                                        "expr": {
                                         "literal": {
                                          "s": "http.ResponseWriter"
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ParameterDecl"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterList"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            },
                            {
                             "let": {
                              "name": "k",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "app"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ParameterDecl",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "app"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "Identifier",
                                        "expr": {
                                         "literal": {
                                          "s": "kind"
                                         }
                                        }
                                       }
                                      },
                                      {
                                       "assign": {
                                        "name": "TypeName",
                                        "expr": {
                                         "literal": {
                                          "s": "common.Kind"
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ParameterDecl"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterList"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            },
                            {
                             "let": {
                              "name": "m",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "app"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ParameterDecl",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "app"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "Identifier",
                                        "expr": {
                                         "literal": {
                                          "s": "message"
                                         }
                                        }
                                       }
                                      },
                                      {
                                       "assign": {
                                        "name": "TypeName",
                                        "expr": {
                                         "literal": {
                                          "s": "string"
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ParameterDecl"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterList"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            },
                            {
                             "let": {
                              "name": "c",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "app"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ParameterDecl",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "app"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "Identifier",
                                        "expr": {
                                         "literal": {
                                          "s": "cause"
                                         }
                                        }
                                       }
                                      },
                                      {
                                       "assign": {
                                        "name": "TypeName",
                                        "expr": {
                                         "literal": {
                                          "s": "error"
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ParameterDecl"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterList"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            },
                            {
                             "assign": {
                              "name": "ParameterDeclC",
                              "expr": {
                               "list": {
                                "expr": [
                                 {
                                  "name": "w"
                                 },
                                 {
                                  "name": "k"
                                 },
                                 {
                                  "name": "m"
                                 },
                                 {
                                  "name": "c"
                                 }
                                ]
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "ParameterList"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Parameters"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Result",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "app"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "TypeName",
                         "expr": {
                          "literal": {
                           "s": "common.HTTPError"
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Result"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Signature"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "MethodSpec"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "downstream",
          "expr": {
           "transform": {
            "arg": {
             "name": "app"
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "MethodName",
               "expr": {
                "literal": {
                 "s": "DownstreamTimeoutContext"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Signature",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "app"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Parameters",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "app"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "ParameterList",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "app"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "ParameterDecl",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "app"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "Identifier",
                                   "expr": {
                                    "literal": {
                                     "s": "ctx"
                                    }
                                   }
                                  }
                                 },
                                 {
                                  "assign": {
                                   "name": "TypeName",
                                   "expr": {
                                    "literal": {
                                     "s": "context.Context"
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterDecl"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "ParameterList"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Parameters"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Result",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "app"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "ReturnTypes",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "app"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "TypeName",
                              "expr": {
                               "literal": {
                                "s": "context.Context"
                               }
                              }
                             }
                            },
                            {
                             "assign": {
                              "name": "ResultTypeList",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "list": {
                                  "expr": [
                                   {
                                    "name": "app"
                                   }
                                  ]
                                 }
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "TypeName",
                                   "expr": {
                                    "literal": {
                                     "s": "context.CancelFunc"
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ResultTypeList"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "ReturnTypes"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Result"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Signature"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "MethodSpec"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "swaggerFile",
          "expr": {
           "transform": {
            "arg": {
             "list": {
              "expr": [
               {
                "name": "app"
               }
              ]
             }
            },
            "scopevar": "name",
            "stmt": [
             {
              "assign": {
               "name": "Comment",
               "expr": {
                "literal": {
                 "s": "// swaggerFile is a struct to store the swagger file system"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Declaration",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "app"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "StructType",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "StructName",
                         "expr": {
                          "literal": {
                           "s": "swaggerFile"
                          }
                         }
                        }
                       },
                       {
                        "let": {
                         "name": "file",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "identifier",
                              "expr": {
                               "literal": {
                                "s": "file"
                               }
                              }
                             }
                            },
                            {
                             "assign": {
                              "name": "Type",
                              "expr": {
                               "literal": {
                                "s": "http.FileSystem"
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "FieldDecl"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "FieldDecl",
                         "expr": {
                          "list": {
                           "expr": [
                            {
                             "name": "file"
                            }
                           ]
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "StructType"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Declaration"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "CodeGenTransform"
                ]
               },
               "path": [
                "goFile"
               ]
              },
              "ref": {
               "path": [
                "TopLevelDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "swaggerFileVar",
          "expr": {
           "transform": {
            "arg": {
             "list": {
              "expr": [
               {
                "name": "app"
               }
              ]
             }
            },
            "scopevar": "name",
            "stmt": [
             {
              "assign": {
               "name": "Comment",
               "expr": {
                "literal": {
                 "s": "// swagger will receive the embedded swagger file if it is generated by the resource application"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Declaration",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "name"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "VarDeclWithVal",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "identifier",
                         "expr": {
                          "literal": {
                           "s": "swagger"
                          }
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "Expression",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "ValueExpr",
                              "expr": {
                               "literal": {
                                "s": "swaggerFile{}"
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "Expression"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "VarDeclWithVal"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Declaration"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "CodeGenTransform"
                ]
               },
               "path": [
                "goFile"
               ]
              },
              "ref": {
               "path": [
                "TopLevelDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "genCallbackDecl",
          "expr": {
           "transform": {
            "arg": {
             "list": {
              "expr": [
               {
                "name": "app"
               }
              ]
             }
            },
            "scopevar": "eh",
            "stmt": [
             {
              "assign": {
               "name": "Comment",
               "expr": {
                "literal": {
                 "s": "// GenCallback callbacks used by the generated code"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Declaration",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "app"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "InterfaceType",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "app"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "InterfaceName",
                         "expr": {
                          "literal": {
                           "s": "GenCallback"
                          }
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "MethodSpec",
                         "expr": {
                          "list": {
                           "expr": [
                            {
                             "name": "addMiddleware"
                            },
                            {
                             "name": "basePath"
                            },
                            {
                             "name": "config"
                            },
                            {
                             "name": "mapError"
                            },
                            {
                             "name": "downstream"
                            }
                           ]
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "InterfaceType"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Declaration"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "CodeGenTransform"
                ]
               },
               "path": [
                "goFile"
               ]
              },
              "ref": {
               "path": [
                "TopLevelDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "svcInterface",
          "expr": {
           "transform": {
            "arg": {
             "list": {
              "expr": [
               {
                "getAttr": {
                 "arg": {
                  "name": "."
                 },
                 "attr": "name"
                }
               }
              ]
             }
            },
            "scopevar": "name",
            "stmt": [
             {
              "let": {
               "name": "title",
               "expr": {
                "literal": {
                 "s": "Router"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Comment",
               "expr": {
                "binexpr": {
                 "op": "ADD",
                 "lhs": {
                  "literal": {
                   "s": "// Router interface for "
                  }
                 },
                 "rhs": {
                  "name": "name"
                 }
                }
               }
              }
             },
             {
              "assign": {
               "name": "Declaration",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "title"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "InterfaceType",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "title"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "let": {
                         "name": "method",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "MethodName",
                              "expr": {
                               "literal": {
                                "s": "Route"
                               }
                              }
                             }
                            },
                            {
                             "assign": {
                              "name": "Signature",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "name"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "Parameters",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "name"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "ParameterList",
                                        "expr": {
                                         "transform": {
                                          "arg": {
                                           "name": "name"
                                          },
                                          "scopevar": ".",
                                          "stmt": [
                                           {
                                            "assign": {
                                             "name": "ParameterDecl",
                                             "expr": {
                                              "transform": {
                                               "arg": {
                                                "name": "name"
                                               },
                                               "scopevar": ".",
                                               "stmt": [
                                                {
                                                 "assign": {
                                                  "name": "Identifier",
                                                  "expr": {
                                                   "literal": {
                                                    "s": "router"
                                                   }
                                                  }
                                                 }
                                                },
                                                {
                                                 "assign": {
                                                  "name": "TypeName",
                                                  "expr": {
                                                   "literal": {
                                                    "s": "*chi.Mux"
                                                   }
                                                  }
                                                 }
                                                }
                                               ]
                                              },
                                              "type": {
                                               "typeRef": {
                                                "context": {
                                                 "appname": {
                                                  "part": [
                                                   "CodeGenTransform"
                                                  ]
                                                 }
                                                },
                                                "ref": {
                                                 "appname": {
                                                  "part": [
                                                   "ParameterDecl"
                                                  ]
                                                 }
                                                }
                                               }
                                              }
                                             }
                                            }
                                           }
                                          ]
                                         },
                                         "type": {
                                          "typeRef": {
                                           "context": {
                                            "appname": {
                                             "part": [
                                              "CodeGenTransform"
                                             ]
                                            }
                                           },
                                           "ref": {
                                            "appname": {
                                             "part": [
                                              "ParameterList"
                                             ]
                                            }
                                           }
                                          }
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "Parameters"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "Signature"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "MethodSpec"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "InterfaceName",
                         "expr": {
                          "name": "title"
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "MethodSpec",
                         "expr": {
                          "list": {
                           "expr": [
                            {
                             "name": "method"
                            }
                           ]
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "InterfaceType"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Declaration"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "CodeGenTransform"
                ]
               },
               "path": [
                "goFile"
               ]
              },
              "ref": {
               "path": [
                "TopLevelDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "serviceRouterStruct",
          "expr": {
           "transform": {
            "arg": {
             "list": {
              "expr": [
               {
                "getAttr": {
                 "arg": {
                  "name": "."
                 },
                 "attr": "name"
                }
               }
              ]
             }
            },
            "scopevar": "name",
            "stmt": [
             {
              "assign": {
               "name": "Comment",
               "expr": {
                "binexpr": {
                 "op": "ADD",
                 "lhs": {
                  "binexpr": {
                   "op": "ADD",
                   "lhs": {
                    "literal": {
                     "s": "// ServiceRouter for "
                    }
                   },
                   "rhs": {
                    "name": "name"
                   }
                  }
                 },
                 "rhs": {
                  "literal": {
                   "s": " API"
                  }
                 }
                }
               }
              }
             },
             {
              "assign": {
               "name": "Declaration",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "name"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "StructType",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "StructName",
                         "expr": {
                          "literal": {
                           "s": "ServiceRouter"
                          }
                         }
                        }
                       },
                       {
                        "let": {
                         "name": "genCallback",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "identifier",
                              "expr": {
                               "literal": {
                                "s": "gc"
                               }
                              }
                             }
                            },
                            {
                             "assign": {
                              "name": "Type",
                              "expr": {
                               "literal": {
                                "s": "GenCallback"
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "FieldDecl"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       },
                       {
                        "let": {
                         "name": "svcHandlerField",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "identifier",
                              "expr": {
                               "name": "svcHandlerVarname"
                              }
                             }
                            },
                            {
                             "assign": {
                              "name": "Type",
                              "expr": {
                               "literal": {
                                "s": "*ServiceHandler"
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "FieldDecl"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       },
                       {
                        "let": {
                         "name": "basePathFromSpec",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "identifier",
                              "expr": {
                               "literal": {
                                "s": "basePathFromSpec"
                               }
                              }
                             }
                            },
                            {
                             "assign": {
                              "name": "Type",
                              "expr": {
                               "literal": {
                                "s": "string"
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "FieldDecl"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "FieldDecl",
                         "expr": {
                          "list": {
                           "expr": [
                            {
                             "name": "genCallback"
                            },
                            {
                             "name": "svcHandlerField"
                            },
                            {
                             "name": "basePathFromSpec"
                            }
                           ]
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "StructType"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "Declaration"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "CodeGenTransform"
                ]
               },
               "path": [
                "goFile"
               ]
              },
              "ref": {
               "path": [
                "TopLevelDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "makeRouter",
          "expr": {
           "transform": {
            "arg": {
             "list": {
              "expr": [
               {
                "getAttr": {
                 "arg": {
                  "name": "."
                 },
                 "attr": "name"
                }
               }
              ]
             }
            },
            "scopevar": "name",
            "stmt": [
             {
              "assign": {
               "name": "Comment",
               "expr": {
                "binexpr": {
                 "op": "ADD",
                 "lhs": {
                  "literal": {
                   "s": "// NewServiceRouter creates a new service router for "
                  }
                 },
                 "rhs": {
                  "name": "name"
                 }
                }
               }
              }
             },
             {
              "assign": {
               "name": "FunctionDecl",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "name"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "FunctionName",
                    "expr": {
                     "literal": {
                      "s": "NewServiceRouter"
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Signature",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "Parameters",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "ParameterList",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "name"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ParameterDecl",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "name"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "Identifier",
                                        "expr": {
                                         "literal": {
                                          "s": "gc"
                                         }
                                        }
                                       }
                                      },
                                      {
                                       "assign": {
                                        "name": "TypeName",
                                        "expr": {
                                         "literal": {
                                          "s": "GenCallback"
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ParameterDecl"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 },
                                 {
                                  "let": {
                                   "name": "sh",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "svcHandlerVarname"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "ParameterDecl",
                                        "expr": {
                                         "transform": {
                                          "arg": {
                                           "name": "svcHandlerVarname"
                                          },
                                          "scopevar": ".",
                                          "stmt": [
                                           {
                                            "assign": {
                                             "name": "Identifier",
                                             "expr": {
                                              "name": "svcHandlerVarname"
                                             }
                                            }
                                           },
                                           {
                                            "assign": {
                                             "name": "TypeName",
                                             "expr": {
                                              "literal": {
                                               "s": "*ServiceHandler"
                                              }
                                             }
                                            }
                                           }
                                          ]
                                         },
                                         "type": {
                                          "typeRef": {
                                           "context": {
                                            "appname": {
                                             "part": [
                                              "CodeGenTransform"
                                             ]
                                            }
                                           },
                                           "ref": {
                                            "appname": {
                                             "part": [
                                              "ParameterDecl"
                                             ]
                                            }
                                           }
                                          }
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ParameterList"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 },
                                 {
                                  "assign": {
                                   "name": "ParameterDeclC",
                                   "expr": {
                                    "list": {
                                     "expr": [
                                      {
                                       "name": "sh"
                                      }
                                     ]
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterList"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "Parameters"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "Result",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "TypeName",
                              "expr": {
                               "literal": {
                                "s": "handlerinitialiser.HandlerInitialiser"
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "Result"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Signature"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Block",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "StatementList",
                         "expr": {
                          "transform": {
                           "arg": {
                            "list": {
                             "expr": [
                              {
                               "name": "name"
                              }
                             ]
                            }
                           },
                           "scopevar": "item",
                           "stmt": [
                            {
                             "assign": {
                              "name": "Statement",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "item"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ReturnStmt",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "item"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "PayLoad",
                                        "expr": {
                                         "binexpr": {
                                          "op": "ADD",
                                          "lhs": {
                                           "binexpr": {
                                            "op": "ADD",
                                            "lhs": {
                                             "binexpr": {
                                              "op": "ADD",
                                              "lhs": {
                                               "binexpr": {
                                                "op": "ADD",
                                                "lhs": {
                                                 "literal": {
                                                  "s": "\u0026ServiceRouter{gc, "
                                                 }
                                                },
                                                "rhs": {
                                                 "name": "svcHandlerVarname"
                                                }
                                               }
                                              },
                                              "rhs": {
                                               "literal": {
                                                "s": ", \""
                                               }
                                              }
                                             }
                                            },
                                            "rhs": {
                                             "name": "basePathAttr"
                                            }
                                           }
                                          },
                                          "rhs": {
                                           "literal": {
                                            "s": "\"}"
                                           }
                                          }
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ReturnStmt"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "Statement"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "sequence": {
                            "typeRef": {
                             "context": {
                              "appname": {
                               "part": [
                                "CodeGenTransform"
                               ]
                              },
                              "path": [
                               "goFile"
                              ]
                             },
                             "ref": {
                              "path": [
                               "StatementList"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Block"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "FunctionDecl"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "CodeGenTransform"
                ]
               },
               "path": [
                "goFile"
               ]
              },
              "ref": {
               "path": [
                "TopLevelDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "routeMethod",
          "expr": {
           "transform": {
            "arg": {
             "list": {
              "expr": [
               {
                "getAttr": {
                 "arg": {
                  "name": "."
                 },
                 "attr": "name"
                }
               }
              ]
             }
            },
            "scopevar": "name",
            "stmt": [
             {
              "let": {
               "name": "funcName",
               "expr": {
                "literal": {
                 "s": "WireRoutes"
                }
               }
              }
             },
             {
              "assign": {
               "name": "Comment",
               "expr": {
                "binexpr": {
                 "op": "ADD",
                 "lhs": {
                  "binexpr": {
                   "op": "ADD",
                   "lhs": {
                    "binexpr": {
                     "op": "ADD",
                     "lhs": {
                      "literal": {
                       "s": "// "
                      }
                     },
                     "rhs": {
                      "name": "funcName"
                     }
                    }
                   },
                   "rhs": {
                    "literal": {
                     "s": " ..."
                    }
                   }
                  }
                 },
                 "rhs": {
                  "literal": {
                   "s": "\n//nolint:funlen"
                  }
                 }
                }
               }
              }
             },
             {
              "assign": {
               "name": "MethodDecl",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "name"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Receiver",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "ReceiverType",
                         "expr": {
                          "literal": {
                           "s": "s *ServiceRouter"
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Receiver"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "FunctionName",
                    "expr": {
                     "name": "funcName"
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Signature",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "Parameters",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "ParameterList",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "name"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ParameterDecl",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "name"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "Identifier",
                                        "expr": {
                                         "literal": {
                                          "s": "ctx"
                                         }
                                        }
                                       }
                                      },
                                      {
                                       "assign": {
                                        "name": "TypeName",
                                        "expr": {
                                         "literal": {
                                          "s": "context.Context"
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ParameterDecl"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 },
                                 {
                                  "let": {
                                   "name": "r",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "name"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "ParameterDecl",
                                        "expr": {
                                         "transform": {
                                          "arg": {
                                           "name": "name"
                                          },
                                          "scopevar": ".",
                                          "stmt": [
                                           {
                                            "assign": {
                                             "name": "Identifier",
                                             "expr": {
                                              "literal": {
                                               "s": "r"
                                              }
                                             }
                                            }
                                           },
                                           {
                                            "assign": {
                                             "name": "TypeName",
                                             "expr": {
                                              "literal": {
                                               "s": "chi.Router"
                                              }
                                             }
                                            }
                                           }
                                          ]
                                         },
                                         "type": {
                                          "typeRef": {
                                           "context": {
                                            "appname": {
                                             "part": [
                                              "CodeGenTransform"
                                             ]
                                            }
                                           },
                                           "ref": {
                                            "appname": {
                                             "part": [
                                              "ParameterDecl"
                                             ]
                                            }
                                           }
                                          }
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ParameterList"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 },
                                 {
                                  "assign": {
                                   "name": "ParameterDeclC",
                                   "expr": {
                                    "list": {
                                     "expr": [
                                      {
                                       "name": "r"
                                      }
                                     ]
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "ParameterList"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "Parameters"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Signature"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Block",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "let": {
                         "name": "route",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "Statement",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "name"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "FunctionCall",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "name"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "FunctionName",
                                        "expr": {
                                         "literal": {
                                          "s": "r.Route"
                                         }
                                        }
                                       }
                                      },
                                      {
                                       "assign": {
                                        "name": "FunctionArgs",
                                        "expr": {
                                         "transform": {
                                          "arg": {
                                           "name": "name"
                                          },
                                          "scopevar": ".",
                                          "stmt": [
                                           {
                                            "assign": {
                                             "name": "Expression",
                                             "expr": {
                                              "transform": {
                                               "arg": {
                                                "name": "name"
                                               },
                                               "scopevar": ".",
                                               "stmt": [
                                                {
                                                 "assign": {
                                                  "name": "FunctionCall",
                                                  "expr": {
                                                   "transform": {
                                                    "arg": {
                                                     "name": "name"
                                                    },
                                                    "scopevar": ".",
                                                    "stmt": [
                                                     {
                                                      "assign": {
                                                       "name": "FunctionName",
                                                       "expr": {
                                                        "literal": {
                                                         "s": "core.SelectBasePath"
                                                        }
                                                       }
                                                      }
                                                     },
                                                     {
                                                      "assign": {
                                                       "name": "FunctionArgs",
                                                       "expr": {
                                                        "transform": {
                                                         "arg": {
                                                          "name": "name"
                                                         },
                                                         "scopevar": ".",
                                                         "stmt": [
                                                          {
                                                           "assign": {
                                                            "name": "Expression",
                                                            "expr": {
                                                             "call": {
                                                              "func": "makeValueExpr",
                                                              "arg": [
                                                               {
                                                                "literal": {
                                                                 "s": "s.basePathFromSpec"
                                                                }
                                                               }
                                                              ]
                                                             }
                                                            }
                                                           }
                                                          },
                                                          {
                                                           "assign": {
                                                            "name": "FuncArgsRest",
                                                            "expr": {
                                                             "transform": {
                                                              "arg": {
                                                               "list": {
                                                                "expr": [
                                                                 {
                                                                  "literal": {
                                                                   "s": "s.gc.BasePath()"
                                                                  }
                                                                 }
                                                                ]
                                                               }
                                                              },
                                                              "scopevar": "arg",
                                                              "stmt": [
                                                               {
                                                                "assign": {
                                                                 "name": "Expression",
                                                                 "expr": {
                                                                  "call": {
                                                                   "func": "makeValueExpr",
                                                                   "arg": [
                                                                    {
                                                                     "name": "arg"
                                                                    }
                                                                   ]
                                                                  }
                                                                 }
                                                                }
                                                               }
                                                              ]
                                                             },
                                                             "type": {
                                                              "sequence": {
                                                               "typeRef": {
                                                                "context": {
                                                                 "appname": {
                                                                  "part": [
                                                                   "CodeGenTransform"
                                                                  ]
                                                                 },
                                                                 "path": [
                                                                  "goFile"
                                                                 ]
                                                                },
                                                                "ref": {
                                                                 "path": [
                                                                  "FuncArgsRest"
                                                                 ]
                                                                }
                                                               }
                                                              }
                                                             }
                                                            }
                                                           }
                                                          }
                                                         ]
                                                        },
                                                        "type": {
                                                         "typeRef": {
                                                          "context": {
                                                           "appname": {
                                                            "part": [
                                                             "CodeGenTransform"
                                                            ]
                                                           }
                                                          },
                                                          "ref": {
                                                           "appname": {
                                                            "part": [
                                                             "FunctionArgs"
                                                            ]
                                                           }
                                                          }
                                                         }
                                                        }
                                                       }
                                                      }
                                                     }
                                                    ]
                                                   },
                                                   "type": {
                                                    "typeRef": {
                                                     "context": {
                                                      "appname": {
                                                       "part": [
                                                        "CodeGenTransform"
                                                       ]
                                                      }
                                                     },
                                                     "ref": {
                                                      "appname": {
                                                       "part": [
                                                        "FunctionCall"
                                                       ]
                                                      }
                                                     }
                                                    }
                                                   }
                                                  }
                                                 }
                                                }
                                               ]
                                              },
                                              "type": {
                                               "typeRef": {
                                                "context": {
                                                 "appname": {
                                                  "part": [
                                                   "CodeGenTransform"
                                                  ]
                                                 }
                                                },
                                                "ref": {
                                                 "appname": {
                                                  "part": [
                                                   "Expression"
                                                  ]
                                                 }
                                                }
                                               }
                                              }
                                             }
                                            }
                                           },
                                           {
                                            "assign": {
                                             "name": "FuncArgsRest",
                                             "expr": {
                                              "transform": {
                                               "arg": {
                                                "list": {
                                                 "expr": [
                                                  {
                                                   "name": "name"
                                                  }
                                                 ]
                                                }
                                               },
                                               "scopevar": "name",
                                               "stmt": [
                                                {
                                                 "assign": {
                                                  "name": "Expression",
                                                  "expr": {
                                                   "transform": {
                                                    "arg": {
                                                     "name": "name"
                                                    },
                                                    "scopevar": ".",
                                                    "stmt": [
                                                     {
                                                      "assign": {
                                                       "name": "FunctionLit",
                                                       "expr": {
                                                        "transform": {
                                                         "arg": {
                                                          "name": "name"
                                                         },
                                                         "scopevar": ".",
                                                         "stmt": [
                                                          {
                                                           "assign": {
                                                            "name": "Signature",
                                                            "expr": {
                                                             "transform": {
                                                              "arg": {
                                                               "name": "name"
                                                              },
                                                              "scopevar": ".",
                                                              "stmt": [
                                                               {
                                                                "assign": {
                                                                 "name": "Parameters",
                                                                 "expr": {
                                                                  "transform": {
                                                                   "arg": {
                                                                    "name": "name"
                                                                   },
                                                                   "scopevar": ".",
                                                                   "stmt": [
                                                                    {
                                                                     "assign": {
                                                                      "name": "ParameterList",
                                                                      "expr": {
                                                                       "transform": {
                                                                        "arg": {
                                                                         "name": "name"
                                                                        },
                                                                        "scopevar": ".",
                                                                        "stmt": [
                                                                         {
                                                                          "assign": {
                                                                           "name": "ParameterDecl",
                                                                           "expr": {
                                                                            "transform": {
                                                                             "arg": {
                                                                              "name": "name"
                                                                             },
                                                                             "scopevar": ".",
                                                                             "stmt": [
                                                                              {
                                                                               "assign": {
                                                                                "name": "Identifier",
                                                                                "expr": {
                                                                                 "literal": {
                                                                                  "s": "r"
                                                                                 }
                                                                                }
                                                                               }
                                                                              },
                                                                              {
                                                                               "assign": {
                                                                                "name": "TypeName",
                                                                                "expr": {
                                                                                 "literal": {
                                                                                  "s": "chi.Router"
                                                                                 }
                                                                                }
                                                                               }
                                                                              }
                                                                             ]
                                                                            },
                                                                            "type": {
                                                                             "typeRef": {
                                                                              "context": {
                                                                               "appname": {
                                                                                "part": [
                                                                                 "CodeGenTransform"
                                                                                ]
                                                                               }
                                                                              },
                                                                              "ref": {
                                                                               "appname": {
                                                                                "part": [
                                                                                 "ParameterDecl"
                                                                                ]
                                                                               }
                                                                              }
                                                                             }
                                                                            }
                                                                           }
                                                                          }
                                                                         }
                                                                        ]
                                                                       },
                                                                       "type": {
                                                                        "typeRef": {
                                                                         "context": {
                                                                          "appname": {
                                                                           "part": [
                                                                            "CodeGenTransform"
                                                                           ]
                                                                          }
                                                                         },
                                                                         "ref": {
                                                                          "appname": {
                                                                           "part": [
                                                                            "ParameterList"
                                                                           ]
                                                                          }
                                                                         }
                                                                        }
                                                                       }
                                                                      }
                                                                     }
                                                                    }
                                                                   ]
                                                                  },
                                                                  "type": {
                                                                   "typeRef": {
                                                                    "context": {
                                                                     "appname": {
                                                                      "part": [
                                                                       "CodeGenTransform"
                                                                      ]
                                                                     }
                                                                    },
                                                                    "ref": {
                                                                     "appname": {
                                                                      "part": [
                                                                       "Parameters"
                                                                      ]
                                                                     }
                                                                    }
                                                                   }
                                                                  }
                                                                 }
                                                                }
                                                               }
                                                              ]
                                                             },
                                                             "type": {
                                                              "typeRef": {
                                                               "context": {
                                                                "appname": {
                                                                 "part": [
                                                                  "CodeGenTransform"
                                                                 ]
                                                                }
                                                               },
                                                               "ref": {
                                                                "appname": {
                                                                 "part": [
                                                                  "Signature"
                                                                 ]
                                                                }
                                                               }
                                                              }
                                                             }
                                                            }
                                                           }
                                                          },
                                                          {
                                                           "assign": {
                                                            "name": "FuncLitBlock",
                                                            "expr": {
                                                             "transform": {
                                                              "arg": {
                                                               "name": "name"
                                                              },
                                                              "scopevar": ".",
                                                              "stmt": [
                                                               {
                                                                "let": {
                                                                 "name": "useCall",
                                                                 "expr": {
                                                                  "transform": {
                                                                   "arg": {
                                                                    "name": "name"
                                                                   },
                                                                   "scopevar": ".",
                                                                   "stmt": [
                                                                    {
                                                                     "assign": {
                                                                      "name": "Statement",
                                                                      "expr": {
                                                                       "transform": {
                                                                        "arg": {
                                                                         "name": "name"
                                                                        },
                                                                        "scopevar": ".",
                                                                        "stmt": [
                                                                         {
                                                                          "assign": {
                                                                           "name": "FunctionCall",
                                                                           "expr": {
                                                                            "transform": {
                                                                             "arg": {
                                                                              "name": "name"
                                                                             },
                                                                             "scopevar": ".",
                                                                             "stmt": [
                                                                              {
                                                                               "assign": {
                                                                                "name": "FunctionName",
                                                                                "expr": {
                                                                                 "literal": {
                                                                                  "s": "s.gc.AddMiddleware"
                                                                                 }
                                                                                }
                                                                               }
                                                                              },
                                                                              {
                                                                               "assign": {
                                                                                "name": "FunctionArgs",
                                                                                "expr": {
                                                                                 "transform": {
                                                                                  "arg": {
                                                                                   "name": "name"
                                                                                  },
                                                                                  "scopevar": ".",
                                                                                  "stmt": [
                                                                                   {
                                                                                    "assign": {
                                                                                     "name": "Expression",
                                                                                     "expr": {
                                                                                      "call": {
                                                                                       "func": "makeValueExpr",
                                                                                       "arg": [
                                                                                        {
                                                                                         "literal": {
                                                                                          "s": "ctx"
                                                                                         }
                                                                                        }
                                                                                       ]
                                                                                      }
                                                                                     }
                                                                                    }
                                                                                   },
                                                                                   {
                                                                                    "assign": {
                                                                                     "name": "FuncArgsRest",
                                                                                     "expr": {
                                                                                      "transform": {
                                                                                       "arg": {
                                                                                        "list": {
                                                                                         "expr": [
                                                                                          {
                                                                                           "literal": {
                                                                                            "s": "r"
                                                                                           }
                                                                                          }
                                                                                         ]
                                                                                        }
                                                                                       },
                                                                                       "scopevar": "a",
                                                                                       "stmt": [
                                                                                        {
                                                                                         "assign": {
                                                                                          "name": "Expression",
                                                                                          "expr": {
                                                                                           "call": {
                                                                                            "func": "makeValueExpr",
                                                                                            "arg": [
                                                                                             {
                                                                                              "name": "a"
                                                                                             }
                                                                                            ]
                                                                                           }
                                                                                          }
                                                                                         }
                                                                                        }
                                                                                       ]
                                                                                      },
                                                                                      "type": {
                                                                                       "sequence": {
                                                                                        "typeRef": {
                                                                                         "context": {
                                                                                          "appname": {
                                                                                           "part": [
                                                                                            "CodeGenTransform"
                                                                                           ]
                                                                                          },
                                                                                          "path": [
                                                                                           "goFile"
                                                                                          ]
                                                                                         },
                                                                                         "ref": {
                                                                                          "path": [
                                                                                           "FuncArgsRest"
                                                                                          ]
                                                                                         }
                                                                                        }
                                                                                       }
                                                                                      }
                                                                                     }
                                                                                    }
                                                                                   }
                                                                                  ]
                                                                                 },
                                                                                 "type": {
                                                                                  "typeRef": {
                                                                                   "context": {
                                                                                    "appname": {
                                                                                     "part": [
                                                                                      "CodeGenTransform"
                                                                                     ]
                                                                                    }
                                                                                   },
                                                                                   "ref": {
                                                                                    "appname": {
                                                                                     "part": [
                                                                                      "FunctionArgs"
                                                                                     ]
                                                                                    }
                                                                                   }
                                                                                  }
                                                                                 }
                                                                                }
                                                                               }
                                                                              }
                                                                             ]
                                                                            },
                                                                            "type": {
                                                                             "typeRef": {
                                                                              "context": {
                                                                               "appname": {
                                                                                "part": [
                                                                                 "CodeGenTransform"
                                                                                ]
                                                                               }
                                                                              },
                                                                              "ref": {
                                                                               "appname": {
                                                                                "part": [
                                                                                 "FunctionCall"
                                                                                ]
                                                                               }
                                                                              }
                                                                             }
                                                                            }
                                                                           }
                                                                          }
                                                                         }
                                                                        ]
                                                                       },
                                                                       "type": {
                                                                        "typeRef": {
                                                                         "context": {
                                                                          "appname": {
                                                                           "part": [
                                                                            "CodeGenTransform"
                                                                           ]
                                                                          }
                                                                         },
                                                                         "ref": {
                                                                          "appname": {
                                                                           "part": [
                                                                            "Statement"
                                                                           ]
                                                                          }
                                                                         }
                                                                        }
                                                                       }
                                                                      }
                                                                     }
                                                                    }
                                                                   ]
                                                                  },
                                                                  "type": {
                                                                   "typeRef": {
                                                                    "context": {
                                                                     "appname": {
                                                                      "part": [
                                                                       "CodeGenTransform"
                                                                      ]
                                                                     }
                                                                    },
                                                                    "ref": {
                                                                     "appname": {
                                                                      "part": [
                                                                       "StatementList"
                                                                      ]
                                                                     }
                                                                    }
                                                                   }
                                                                  }
                                                                 }
                                                                }
                                                               },
                                                               {
                                                                "assign": {
                                                                 "name": "StatementList",
                                                                 "expr": {
                                                                  "binexpr": {
                                                                   "op": "BITOR",
                                                                   "lhs": {
                                                                    "list": {
                                                                     "expr": [
                                                                      {
                                                                       "name": "useCall"
                                                                      }
                                                                     ]
                                                                    }
                                                                   },
                                                                   "rhs": {
                                                                    "call": {
                                                                     "func": "RouteEndpoints",
                                                                     "arg": [
                                                                      {
                                                                       "getAttr": {
                                                                        "arg": {
                                                                         "name": "app"
                                                                        },
                                                                        "attr": "endpoints"
                                                                       }
                                                                      }
                                                                     ]
                                                                    }
                                                                   }
                                                                  }
                                                                 }
                                                                }
                                                               }
                                                              ]
                                                             },
                                                             "type": {
                                                              "typeRef": {
                                                               "context": {
                                                                "appname": {
                                                                 "part": [
                                                                  "CodeGenTransform"
                                                                 ]
                                                                }
                                                               },
                                                               "ref": {
                                                                "appname": {
                                                                 "part": [
                                                                  "FuncLitBlock"
                                                                 ]
                                                                }
                                                               }
                                                              }
                                                             }
                                                            }
                                                           }
                                                          }
                                                         ]
                                                        },
                                                        "type": {
                                                         "typeRef": {
                                                          "context": {
                                                           "appname": {
                                                            "part": [
                                                             "CodeGenTransform"
                                                            ]
                                                           }
                                                          },
                                                          "ref": {
                                                           "appname": {
                                                            "part": [
                                                             "FunctionLit"
                                                            ]
                                                           }
                                                          }
                                                         }
                                                        }
                                                       }
                                                      }
                                                     }
                                                    ]
                                                   },
                                                   "type": {
                                                    "typeRef": {
                                                     "context": {
                                                      "appname": {
                                                       "part": [
                                                        "CodeGenTransform"
                                                       ]
                                                      }
                                                     },
                                                     "ref": {
                                                      "appname": {
                                                       "part": [
                                                        "Expression"
                                                       ]
                                                      }
                                                     }
                                                    }
                                                   }
                                                  }
                                                 }
                                                }
                                               ]
                                              },
                                              "type": {
                                               "sequence": {
                                                "typeRef": {
                                                 "context": {
                                                  "appname": {
                                                   "part": [
                                                    "CodeGenTransform"
                                                   ]
                                                  },
                                                  "path": [
                                                   "goFile"
                                                  ]
                                                 },
                                                 "ref": {
                                                  "path": [
                                                   "FuncArgsRest"
                                                  ]
                                                 }
                                                }
                                               }
                                              }
                                             }
                                            }
                                           }
                                          ]
                                         },
                                         "type": {
                                          "typeRef": {
                                           "context": {
                                            "appname": {
                                             "part": [
                                              "CodeGenTransform"
                                             ]
                                            }
                                           },
                                           "ref": {
                                            "appname": {
                                             "part": [
                                              "FunctionArgs"
                                             ]
                                            }
                                           }
                                          }
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "FunctionCall"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "Statement"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "StatementList"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "StatementList",
                         "expr": {
                          "list": {
                           "expr": [
                            {
                             "name": "route"
                            }
                           ]
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Block"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "MethodDecl"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "CodeGenTransform"
                ]
               },
               "path": [
                "goFile"
               ]
              },
              "ref": {
               "path": [
                "TopLevelDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "configMethod",
          "expr": {
           "transform": {
            "arg": {
             "list": {
              "expr": [
               {
                "getAttr": {
                 "arg": {
                  "name": "."
                 },
                 "attr": "name"
                }
               }
              ]
             }
            },
            "scopevar": "name",
            "stmt": [
             {
              "assign": {
               "name": "Comment",
               "expr": {
                "literal": {
                 "s": "// Config ..."
                }
               }
              }
             },
             {
              "assign": {
               "name": "MethodDecl",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "name"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Receiver",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "ReceiverType",
                         "expr": {
                          "literal": {
                           "s": "s *ServiceRouter"
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Receiver"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "FunctionName",
                    "expr": {
                     "literal": {
                      "s": "Config"
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Signature",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "Parameters",
                         "expr": {
                          "literal": {
                           "b": true
                          },
                          "type": {
                           "primitive": "BOOL"
                          }
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "Result",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "TypeName",
                              "expr": {
                               "literal": {
                                "s": "validator.Validator"
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "Result"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Signature"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Block",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "StatementList",
                         "expr": {
                          "transform": {
                           "arg": {
                            "list": {
                             "expr": [
                              {
                               "name": "name"
                              }
                             ]
                            }
                           },
                           "scopevar": "name",
                           "stmt": [
                            {
                             "assign": {
                              "name": "Statement",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "name"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ReturnStmt",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "name"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "PayLoad",
                                        "expr": {
                                         "literal": {
                                          "s": "s.gc.Config()"
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ReturnStmt"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "Statement"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "sequence": {
                            "typeRef": {
                             "context": {
                              "appname": {
                               "part": [
                                "CodeGenTransform"
                               ]
                              },
                              "path": [
                               "goFile"
                              ]
                             },
                             "ref": {
                              "path": [
                               "StatementList"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Block"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "MethodDecl"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "CodeGenTransform"
                ]
               },
               "path": [
                "goFile"
               ]
              },
              "ref": {
               "path": [
                "TopLevelDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "let": {
          "name": "nameMethod",
          "expr": {
           "transform": {
            "arg": {
             "list": {
              "expr": [
               {
                "getAttr": {
                 "arg": {
                  "name": "."
                 },
                 "attr": "name"
                }
               }
              ]
             }
            },
            "scopevar": "name",
            "stmt": [
             {
              "assign": {
               "name": "Comment",
               "expr": {
                "literal": {
                 "s": "// Name ..."
                }
               }
              }
             },
             {
              "assign": {
               "name": "MethodDecl",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "name"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Receiver",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "ReceiverType",
                         "expr": {
                          "literal": {
                           "s": "s *ServiceRouter"
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Receiver"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "FunctionName",
                    "expr": {
                     "literal": {
                      "s": "Name"
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Signature",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "Parameters",
                         "expr": {
                          "literal": {
                           "b": true
                          },
                          "type": {
                           "primitive": "BOOL"
                          }
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "Result",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "name"
                           },
                           "scopevar": ".",
                           "stmt": [
                            {
                             "assign": {
                              "name": "TypeName",
                              "expr": {
                               "literal": {
                                "s": "string"
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "typeRef": {
                            "context": {
                             "appname": {
                              "part": [
                               "CodeGenTransform"
                              ]
                             }
                            },
                            "ref": {
                             "appname": {
                              "part": [
                               "Result"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Signature"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "Block",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "name"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "StatementList",
                         "expr": {
                          "transform": {
                           "arg": {
                            "list": {
                             "expr": [
                              {
                               "name": "name"
                              }
                             ]
                            }
                           },
                           "scopevar": "name",
                           "stmt": [
                            {
                             "assign": {
                              "name": "Statement",
                              "expr": {
                               "transform": {
                                "arg": {
                                 "name": "name"
                                },
                                "scopevar": ".",
                                "stmt": [
                                 {
                                  "assign": {
                                   "name": "ReturnStmt",
                                   "expr": {
                                    "transform": {
                                     "arg": {
                                      "name": "name"
                                     },
                                     "scopevar": ".",
                                     "stmt": [
                                      {
                                       "assign": {
                                        "name": "PayLoad",
                                        "expr": {
                                         "binexpr": {
                                          "op": "ADD",
                                          "lhs": {
                                           "binexpr": {
                                            "op": "ADD",
                                            "lhs": {
                                             "literal": {
                                              "s": "\""
                                             }
                                            },
                                            "rhs": {
                                             "name": "name"
                                            }
                                           }
                                          },
                                          "rhs": {
                                           "literal": {
                                            "s": "\""
                                           }
                                          }
                                         }
                                        }
                                       }
                                      }
                                     ]
                                    },
                                    "type": {
                                     "typeRef": {
                                      "context": {
                                       "appname": {
                                        "part": [
                                         "CodeGenTransform"
                                        ]
                                       }
                                      },
                                      "ref": {
                                       "appname": {
                                        "part": [
                                         "ReturnStmt"
                                        ]
                                       }
                                      }
                                     }
                                    }
                                   }
                                  }
                                 }
                                ]
                               },
                               "type": {
                                "typeRef": {
                                 "context": {
                                  "appname": {
                                   "part": [
                                    "CodeGenTransform"
                                   ]
                                  }
                                 },
                                 "ref": {
                                  "appname": {
                                   "part": [
                                    "Statement"
                                   ]
                                  }
                                 }
                                }
                               }
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "sequence": {
                            "typeRef": {
                             "context": {
                              "appname": {
                               "part": [
                                "CodeGenTransform"
                               ]
                              },
                              "path": [
                               "goFile"
                              ]
                             },
                             "ref": {
                              "path": [
                               "StatementList"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "Block"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "MethodDecl"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "sequence": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "CodeGenTransform"
                ]
               },
               "path": [
                "goFile"
               ]
              },
              "ref": {
               "path": [
                "TopLevelDecl"
               ]
              }
             }
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "Comment",
          "expr": {
           "literal": {
            "s": "// Code generated by sysl DO NOT EDIT.\n"
           }
          }
         }
        },
        {
         "assign": {
          "name": "TopLevelDecl",
          "expr": {
           "binexpr": {
            "op": "BITOR",
            "lhs": {
             "binexpr": {
              "op": "BITOR",
              "lhs": {
               "binexpr": {
                "op": "BITOR",
                "lhs": {
                 "binexpr": {
                  "op": "BITOR",
                  "lhs": {
                   "binexpr": {
                    "op": "BITOR",
                    "lhs": {
                     "binexpr": {
                      "op": "BITOR",
                      "lhs": {
                       "binexpr": {
                        "op": "BITOR",
                        "lhs": {
                         "binexpr": {
                          "op": "BITOR",
                          "lhs": {
                           "name": "genCallbackDecl"
                          },
                          "rhs": {
                           "name": "svcInterface"
                          }
                         }
                        },
                        "rhs": {
                         "name": "serviceRouterStruct"
                        }
                       }
                      },
                      "rhs": {
                       "name": "swaggerFile"
                      }
                     }
                    },
                    "rhs": {
                     "name": "swaggerFileVar"
                    }
                   }
                  },
                  "rhs": {
                   "name": "makeRouter"
                  }
                 }
                },
                "rhs": {
                 "name": "routeMethod"
                }
               }
              },
              "rhs": {
               "name": "configMethod"
              }
             }
            },
            "rhs": {
             "name": "nameMethod"
            }
           }
          }
         }
        }
       ]
      }
     },
     "sourceContext": {
      "file": "/codegen/transforms/svc_router.sysl",
      "start": {
       "line": 84,
       "col": 2
      }
     }
    },
    "makeFunctionCall": {
     "param": [
      {
       "name": "funcName",
       "type": {
        "primitive": "STRING",
        "constraint": [
        ]
       }
      },
      {
       "name": "arg0",
       "type": {
        "typeRef": {
         "ref": {
          "appname": {
           "part": [
            "ValueExpr"
           ]
          }
         }
        }
       }
      },
      {
       "name": "rest",
       "type": {
        "sequence": {
         "typeRef": {
          "context": {
           "appname": {
            "part": [
             "CodeGenTransform"
            ]
           },
           "path": [
            "makeFunctionCall"
           ]
          },
          "ref": {
           "path": [
            "ValueExpr"
           ]
          }
         }
        }
       }
      }
     ],
     "retType": {
      "typeRef": {
       "ref": {
        "appname": {
         "part": [
          "StatementList"
         ]
        }
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "funcName"
       },
       "scopevar": ".",
       "stmt": [
        {
         "assign": {
          "name": "Statement",
          "expr": {
           "transform": {
            "arg": {
             "name": "funcName"
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "FunctionCall",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "funcName"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "FunctionName",
                    "expr": {
                     "name": "funcName"
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "FunctionArgs",
                    "expr": {
                     "transform": {
                      "arg": {
                       "name": "funcName"
                      },
                      "scopevar": ".",
                      "stmt": [
                       {
                        "assign": {
                         "name": "Expression",
                         "expr": {
                          "name": "arg0"
                         }
                        }
                       },
                       {
                        "assign": {
                         "name": "FuncArgsRest",
                         "expr": {
                          "transform": {
                           "arg": {
                            "name": "rest"
                           },
                           "scopevar": "r",
                           "stmt": [
                            {
                             "assign": {
                              "name": "Expression",
                              "expr": {
                               "name": "r"
                              }
                             }
                            }
                           ]
                          },
                          "type": {
                           "sequence": {
                            "typeRef": {
                             "context": {
                              "appname": {
                               "part": [
                                "CodeGenTransform"
                               ]
                              },
                              "path": [
                               "makeFunctionCall"
                              ]
                             },
                             "ref": {
                              "path": [
                               "FuncArgsRest"
                              ]
                             }
                            }
                           }
                          }
                         }
                        }
                       }
                      ]
                     },
                     "type": {
                      "typeRef": {
                       "context": {
                        "appname": {
                         "part": [
                          "CodeGenTransform"
                         ]
                        }
                       },
                       "ref": {
                        "appname": {
                         "part": [
                          "FunctionArgs"
                         ]
                        }
                       }
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "FunctionCall"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "Statement"
               ]
              }
             }
            }
           }
          }
         }
        }
       ]
      }
     },
     "sourceContext": {
      "file": "/codegen/transforms/svc_router.sysl",
      "start": {
       "line": 26,
       "col": 2
      }
     }
    },
    "makeFunctionOneArg": {
     "param": [
      {
       "name": "funcName",
       "type": {
        "primitive": "STRING",
        "constraint": [
        ]
       }
      },
      {
       "name": "arg0",
       "type": {
        "typeRef": {
         "ref": {
          "appname": {
           "part": [
            "Expression"
           ]
          }
         }
        }
       }
      }
     ],
     "retType": {
      "typeRef": {
       "ref": {
        "appname": {
         "part": [
          "Expression"
         ]
        }
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "funcName"
       },
       "scopevar": ".",
       "stmt": [
        {
         "assign": {
          "name": "FunctionCall",
          "expr": {
           "transform": {
            "arg": {
             "name": "funcName"
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "FunctionName",
               "expr": {
                "name": "funcName"
               }
              }
             },
             {
              "assign": {
               "name": "FunctionArgs",
               "expr": {
                "transform": {
                 "arg": {
                  "name": "funcName"
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "Expression",
                    "expr": {
                     "getAttr": {
                      "arg": {
                       "name": "arg0"
                      },
                      "attr": "Expression"
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "CodeGenTransform"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "FunctionArgs"
                    ]
                   }
                  }
                 }
                }
               }
              }
             }
            ]
           },
           "type": {
            "typeRef": {
             "context": {
              "appname": {
               "part": [
                "CodeGenTransform"
               ]
              }
             },
             "ref": {
              "appname": {
               "part": [
                "FunctionCall"
               ]
              }
             }
            }
           }
          }
         }
        }
       ]
      }
     },
     "sourceContext": {
      "file": "/codegen/transforms/svc_router.sysl",
      "start": {
       "line": 41,
       "col": 2
      }
     }
    },
    "makeValueExpr": {
     "param": [
      {
       "name": "strValue",
       "type": {
        "primitive": "STRING",
        "constraint": [
        ]
       }
      }
     ],
     "retType": {
      "typeRef": {
       "ref": {
        "appname": {
         "part": [
          "Expression"
         ]
        }
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "strValue"
       },
       "scopevar": ".",
       "stmt": [
        {
         "assign": {
          "name": "ValueExpr",
          "expr": {
           "name": "strValue"
          }
         }
        }
       ]
      }
     },
     "sourceContext": {
      "file": "/codegen/transforms/svc_router.sysl",
      "start": {
       "line": 21,
       "col": 2
      }
     }
    }
   },
   "sourceContext": {
    "file": "/codegen/transforms/svc_router.sysl",
    "start": {
     "line": 1,
     "col": 1
    }
   }
  }
 }
}